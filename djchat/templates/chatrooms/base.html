<html>
<head>
    <title>ChatRooms</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script type="text/javascript" charset="utf-8" src="{{ STATIC_URL }}js/jquery-2.0.0.min.js"></script>
    <script type="text/javascript" charset="utf-8"
            src="{{ STATIC_URL }}js/jquery_csrf_ajax.js">
    </script>
    <link rel="stylesheet" href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="{{ STATIC_URL }}style/room.css"/>
    <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="{{ STATIC_URL }}js/djchat_room.js"></script>
    <meta name="baidu-tc-verification" content="3bd060062d25b674db89e3b61ddc2907" />
    {% block extra_headers %}
    {% endblock %}
</head>
<body onmousewheel="return false;">
{% block nav %}
    <nav class="navbar navbar-default" role="navigation">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse"
                    data-target="#example-navbar-collapse">
                <span class="sr-only">切换导航</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/chat/rooms/">ChatRoom</a>
        </div>



        {% if user.is_authenticated %}
            <div class="collapse navbar-collapse" id="example-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#" data-toggle="modal" data-target="#profileModal">{{ user.username }}</a></li>
                    <li><a href="/chat/logout">Logout</a></li>
                </ul>
            </div>
            </nav>

            <div class="modal fade" id="profileModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                &times;
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Profile
                            </h4>
                        </div>
                        <div class="modal-body">
                            username:{{ user.username }}
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close
                            </button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal -->
            </div>
        {% else %}
            <div class="collapse navbar-collapse" id="example-navbar-collapse">
                <ul class="nav navbar-nav">
                    <li><a href="#" data-toggle="modal" data-target="#loginModal">Login</a></li>
                    <li><a href="#" data-toggle="modal" data-target="#registerModal">Register</a></li>
                </ul>
            </div>
            </nav>
            <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                &times;
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Login
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" id="login_message" style="display: none">
                                Login Failed.Check your username and password.
                            </div>
                            <form class="form-horizontal" role="form" id="loginForm">
                                <div class="form-group">
                                    <label for="username" class="col-sm-2 control-label">Username</label>

                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" name="username"
                                               placeholder="Enter Username">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="password" class="col-sm-2 control-label">Password</label>

                                    <div class="col-sm-10">
                                        <input type="password" class="form-control" name="password"
                                               placeholder="Enter Password">
                                    </div>
                                </div>

                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close
                            </button>
                            <button type="button" class="btn btn-primary" id="login">
                                Login
                            </button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal -->
            </div>

            <div class="modal fade" id="registerModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
                 aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                                &times;
                            </button>
                            <h4 class="modal-title" id="myModalLabel">
                                Register
                            </h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" id="register_message" style="display: none">
                                Register Failed.Username exists.
                            </div>

                            <form class="form-horizontal" role="form" id="registerForm">
                                <div class="form-group">
                                    <label for="username" class="col-sm-2 control-label">Username</label>

                                    <div class="col-sm-10">
                                        <input type="text" class="form-control" name="username"
                                               placeholder="Enter Username">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="password" class="col-sm-2 control-label">Password</label>

                                    <div class="col-sm-10">
                                        <input type="password" class="form-control" name="password"
                                               placeholder="Enter Password">
                                    </div>
                                </div>

                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close
                            </button>
                            <button type="button" class="btn btn-primary" id="register">
                                Register
                            </button>
                        </div>
                    </div>
                    <!-- /.modal-content -->
                </div>
                <!-- /.modal -->
            </div>
        {% endif %}


{% endblock %}

{% block content %}
{% endblock %}
 <script type="text/javascript" src="{{ STATIC_URL }}js/rooms.js"></script>
</body>

</html>
